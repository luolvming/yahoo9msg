<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>注册</title>
<link href="css.css" rel="stylesheet" type="text/css" />
<script src="./js/js.js" type="text/javascript"></script>
<script src="./js/jquery-1.2.3.pack.js" type="text/javascript"></script>

</head>
<style>
#reg{margin:0 0 5px 0;}
#reg .rh{text-align:left;}
#reg .rh .t1{margin:0px;padding:0 10px;font-size:25px;;height:60px;line-height:50px;}
#reg .rh #rContext{padding:0px 50px;}
#reg .rh #rContext div{margin:20px 0;display:block;}
#reg .rh #rContext div b{float:left;width:80px;font-size:13px;}
#reg .rh #rContext div .in{float:left;width:140px;height:15px;margin:0 3px 0 0;}
#reg .rh #rContext div span{padding:0 0 0 20px;}
#msg{width:250px;height:320px;background-color:#e6f7d4;position:absolute; top:130px;right:100px;text-align:left}
#msg #title{height:30px;line-height:24px;font-size:14px;font-weight:bold;padding:20px;}
</style>
<body>

<div id="container">

    <div id="header">

	   <div id="banner">
	        <div id="logo">
			   <IMG SRC="image/logo.gif" WIDTH="145" HEIGHT="55" BORDER="0" ALT="书盟网">
			</div>
			<div id="nav">
			    <div id="navImg"><IMG SRC="image/banner.jpg" WIDTH="478" HEIGHT="61" BORDER="0" ALT=""></div>
				 <div id="navMenu">登录　注册　帮助
				 <br>设为首页　收藏本站
				 </div>
			</div><!--end nav-->
	   </div><!--end banner-->
	   <div style="clear:both;"></div>
	</div><!--end header-->	
	<div id="top" class="lineTop"></div>
	<div id="top" class="line"></div>

    <div id="bookBody">
           <div id="reg">		       
		      <div class="rh_1"></div><div class="rh_2"></div><div class="rh_3"></div> 
			  <div class="rh">
		        <h1 class="t1">书盟网快速注册</h1> 

				<form id="rContext" action="post.php"  METHOD='post' >
				    <div id="uname" ><b>用户名：</b><INPUT TYPE="text" NAME="uname"maxlength="32" class="in"><span>4-32位的字符；支持中、英文</span></div>
				    <div id="password" ><b>密码：</b><INPUT TYPE="password" NAME="password"maxlength="32" class="in"><span>6-32位的字符</span></div>
				    <div id="password2" ><b>确认密码：</b><INPUT TYPE="password" NAME="password2"maxlength="32" class="in"><span>请与密码框内保持一致</span></div>
				    <div class="lineDot"></div>
				    <div id="email" ><b>电子邮件：</b><INPUT TYPE="text" NAME="email" class="in"><span>完全保密，用于找回密码</span></div>
				    <div><b>性别：</b><INPUT TYPE="radio" NAME="sex" value="1" checked>男<INPUT TYPE="radio" NAME="sex" value="2">女</div>
				    <div class="lineDot"></div>
					<div><INPUT TYPE="button" value="提交注册" id="sb"></div>
				</form><!-- end rContext  -->
			 </div>
		     <div class="rh_4"></div><div class="rh_5"></div><div class="rh_1"></div>			 
		   </div><!--end reg -->
    </div>	<!--end  bookBody-->
	<div id="msg">
	   <div id="title">我在书盟网可以享受服务</div>
	</div>
    
	<div style="clear:both;"></div>
	<div id="Footer">

	   <div class="lineTop"></div>
	   <div class="line"></div>
	   <div id="Ftext">	     
	       <div style="padding:8px 0;width:960px">关于我们  ┊  联系我们 ┊  申请链接 ┊  书盟网 </div>
	       <div>&copy;2007-2008 www.<font color="#7B9D01">SM</font><font color="red">one</font>.com.cn 版权所有，并保留所有权利。</div>
	   </div><!--end Ftext-->
	</div>
</div><!--end container-->

</body>
<script>
$(function(){
   //alert('adsf')
   //alert($('#uname>input').html());
   $('#uname>input').blur(function a(){
       //alert('adsf');
	   var mid=$('#uname>span');
	   var color= '#000';
	   mid.css('color','red');
	   mid.css('background','url(./image/check_error.gif)  no-repeat bottom left');
	   if(mb_strlen($(this).attr('value'))<4){mid.html('不得小于4个字符');return ;}
	   if(mb_strlen($(this).attr('value'))>32){mid.html('不得大于32个字符');return ;}

	   mid.css('color',color);
	   mid.css('background','url(./image/check_right.gif)  no-repeat bottom left');
   });

   $('#password>input').blur(function a(){
       //alert('adsf');
	   var mid=$('#password>span');
	   var color= '#000';
	   mid.css('color','red');
	   mid.css('background','url(./image/check_error.gif)  no-repeat bottom left');
	   if(mb_strlen($(this).attr('value'))<6){mid.html('密码不得少于6个字符');return ;}
	   if(mb_strlen($(this).attr('value'))>32) {mid.html('密码不得大于32个字符');return ;}

	   mid.css('color',color);
	   mid.css('background','url(./image/check_right.gif)  no-repeat bottom left');
   });

   $('#password2>input').blur(function a(){
     //  alert($(this).attr('value'));
       if(isUndefined($(this).attr('value')) && isUndefined($('#password>input').attr('value')) )return ;
	   var mid=$('#password2>span');
	   var color= '#000';
	   mid.css('color','red');
	   mid.css('background','url(./image/check_error.gif)  no-repeat bottom left');
	   if($(this).attr('value')!= $('#password>input').attr('value')){mid.html('确认密码与密码不相同');return ;} 

	   mid.css('color',color);
	   mid.css('background','url(./image/check_right.gif)  no-repeat bottom left');
   });
   
   $('#email>input').blur(function a(){
       
	   var mid=$('#email>span'); 
	   var color= '#000';
	   mid.css('color','red');
	   mid.css('background','url(./image/check_error.gif)  no-repeat bottom left');
	   var reg=new RegExp('[a-z0-9._\-]+@[a-z0-9._\-]+', 'i');

	   if(!reg.test($(this).attr('value')) ) {mid.html('非法email地址');return false;} 

	   mid.css('color',color);
	   mid.css('background','url(./image/check_right.gif)  no-repeat bottom left'); 
	   return true;
   });

   $('#sb').click(function ck(){
       $('#rContext>div>input').blur(); 
	   var sp=$('#rContext>div>span');	
	   var tf=true;
	   sp.each(function (i){
	      // alert($(this).css('background')+':'+i);
		  var reg=new RegExp('check_error', 'i');
		  if(! isUndefined( $(this).css('background'))  && reg.test( $(this).css('background') ) ) { tf=false;} 
		   //break ;
	   });
	   //alert(tf);	
	   if(tf)$("form").submit();
   });

});
</script>
</html>